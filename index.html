<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pasto Sano - Ordina i tuoi pasti</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1><img src="logo.png" alt="Logo Pasto Sano" style="width:80px; vertical-align:middle; margin-right:10px;" onerror="this.style.display='none'">Pasto Sano</h1>
    </header>
    
    <main>
       <section id="menu">
            <h2>Pasti Completi</h2>
            <div class="meal-list">

                <div class="meal-item" data-id="1" data-price="8">
                    <h3>1. FUSILLI, MACINATO MANZO, ZUCCHINE, MELANZANE</h3>
                    <img src="fusilli-macinato-zucchine-melanzane.jpg" alt="FUSILLI, MACINATO MANZO, ZUCCHINE, MELANZANE" class="meal-img">
                    <!-- Manteniamo input nascosto per compatibilit√† -->
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>
    
                <div class="meal-item" data-id="2" data-price="8">
                    <h3>2. ROASTBEEF, PATATE AL FORNO, FAGIOLINI</h3>
                    <img src="roastbeef-patatealforno-fagiolini.jpg" alt="ROASTBEEF, PATATE AL FORNO, FAGIOLINI" class="meal-img">
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>
    
                <div class="meal-item" data-id="3" data-price="8">
                    <h3>3. RISO, HAMBURGER MANZO, CAROTINE BABY</h3>
                    <img src="risobasmati-hamburgermanzo-carotine.jpg" alt="RISO, HAMBURGER MANZO, CAROTINE BABY" class="meal-img">
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>
    
                <div class="meal-item" data-id="4" data-price="8">
                    <h3>4. RISO NERO, GAMBERI, TONNO, PISELLI</h3>
                    <img src="riso nero-gamberi-tonno-piselli.jpg" alt="RISO NERO, GAMBERI, TONNO, PISELLI" class="meal-img">
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>
    
                <div class="meal-item" data-id="5" data-price="8">
                    <h3>5. PATATE, SALMONE GRIGLIATO, BROCCOLI</h3>
                    <img src="salmonegrigliato-patatealforno-broccoli.jpg" alt="PATATE, SALMONE GRIGLIATO, BROCCOLI" class="meal-img">
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>
    
                <div class="meal-item" data-id="6" data-price="8">
                    <h3>6. POLLO GRIGLIATO, PATATE AL FORNO, ZUCCHINE</h3>
                    <img src="pollogrigliato-patatealforno-zucchine.jpg" alt="POLLO GRIGLIATO, PATATE AL FORNO, ZUCCHINE" class="meal-img">
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>
    
                <div class="meal-item" data-id="7" data-price="8">
                    <h3>7. ORZO, CECI, FETA, POMODORINI, BASILICO</h3>
                    <img src="orzo-ceci-feta-pomodorini-basilico.jpg" alt="ORZO, CECI, FETA, POMODORINI, BASILICO" class="meal-img">
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>
    
                <div class="meal-item" data-id="8" data-price="8">
                    <h3>8. TORTILLAS, TACCHINO AFFUMICATO, HUMMUS CECI, INSALATA</h3>
                    <img src="tortillas-tacchinoaffumicato-hummusceci-insalata.jpg" alt="TORTILLAS, TACCHINO AFFUMICATO, HUMMUS CECI, INSALATA" class="meal-img">
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>
    
                <div class="meal-item" data-id="9" data-price="8">
                    <h3>9. TORTILLAS, SALMONE AFFUMICATO, FORMAGGIO SPALMABILE, INSALATA</h3>
                    <img src="tortillas-salmoneaffumicato-formaggiospalmabile-insalata.jpg" alt="TORTILLAS, SALMONE AFFUMICATO, FORMAGGIO SPALMABILE, INSALATA" class="meal-img">
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>
    
                <div class="meal-item" data-id="10" data-price="8">
                    <h3>10. RISO, POLLO AL CURRY, ZUCCHINE</h3>
                    <img src="risobasmati-polloalcurry-zucchine.jpg" alt="RISO, POLLO AL CURRY, ZUCCHINE" class="meal-img">
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>
    
                <div class="meal-item" data-id="11" data-price="6">
                    <h3>11. UOVA STRAPAZZATE, BACON, FRUTTI DI BOSCO</h3>
                    <img src="uovastrapazzate-bacon-fruttidibosco.jpg" alt="UOVA STRAPAZZATE, BACON, FRUTTI DI BOSCO" class="meal-img">
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>
    
                <div class="meal-item" data-id="12" data-price="6">
                    <h3>12. PANCAKES</h3>
                    <img src="pancakes.jpg" alt="PANCAKES" class="meal-img">
                    <input type="number" value="0" min="0" class="quantity-input" style="display: none;">
                    <div class="quantity-controls">
                        <button class="quantity-btn minus-btn">-</button>
                        <span class="quantity-display">0</span>
                        <button class="quantity-btn plus-btn">+</button>
                    </div>
                    <button class="add-to-cart">Aggiungi</button>
                </div>

            </div>
        </section>        
        
        <section id="order-summary">
            <h2>Il tuo Ordine</h2>
            <ul id="cart-items"></ul>
            <p>Totale Articoli: <span id="total-items">0</span></p>
            
            <!-- SEZIONE CODICE PROMOZIONALE -->
            <div class="promo-section">
                <h4>üéÅ Hai un codice promozionale?</h4>
                <div class="promo-input-group">
                    <input type="text" id="promo-code" placeholder="es. PRIMAVERA10">
                    <button id="apply-promo">Applica</button>
                </div>
                <div id="promo-message"></div>
            </div>
            
            <p id="discount-line" style="display: none; color: #d63031; font-weight: bold;"></p>
            <p>Totale: <span id="total-price">0.00‚Ç¨</span></p>
            
            <label for="pickup-date">Seleziona il Giorno di Ritiro</label>
            <input type="date" id="pickup-date" name="pickup-date">
            <p class="note">L'ordine deve essere effettuato con 2 giorni di anticipo (AxC).</p>
            
            <button id="submit-order">Procedi all'Ordine</button>
            <button id="clear-cart" style="background-color: #d9d3cb; color: white; padding: 12px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 1em; margin-top: 10px; width: 100%; box-sizing: border-box;">Svuota Carrello</button>

            <div id="order-message"></div>
        </section>
    </main>

    <!-- POPUP DATI CLIENTE -->
    <div class="popup-overlay" id="customer-popup">
        <div class="popup-content">
            <div class="popup-header">
                <h3>üë§ I tuoi Dati</h3>
                <button class="popup-close" id="close-customer-popup">&times;</button>
            </div>
            <form id="customer-form">
                <div style="margin-bottom: 15px;">
                    <label for="customer-name" style="display: block; margin-bottom: 5px; font-weight: bold;">Nome e Cognome *</label>
                    <input type="text" id="customer-name" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 16px;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="customer-phone" style="display: block; margin-bottom: 5px; font-weight: bold;">Telefono *</label>
                    <input type="tel" id="customer-phone" required style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 16px;" placeholder="es. 347 123 4567">
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="customer-email" style="display: block; margin-bottom: 5px; font-weight: bold;">Email (opzionale)</label>
                    <input type="email" id="customer-email" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 16px;" placeholder="es. mario@email.com">
                </div>
                <div style="margin-bottom: 20px;">
                    <label for="order-notes" style="display: block; margin-bottom: 5px; font-weight: bold;">Note aggiuntive</label>
                    <textarea id="order-notes" rows="3" style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 16px; resize: vertical;" placeholder="Allergie, preferenze particolari..."></textarea>
                </div>
            </form>
            <button id="confirm-customer" style="background-color: #25D366; color: white; padding: 15px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; width: 100%;">
                ‚úÖ Conferma e Procedi
            </button>
        </div>
    </div>

    <!-- POPUP RIEPILOGATIVO -->
    <div class="popup-overlay" id="summary-popup">
        <div class="popup-content">
            <div class="popup-header">
                <h3>Riepilogo Ordine</h3>
                <button class="popup-close" id="close-popup">&times;</button>
            </div>
            <div id="popup-items"></div>
            <div class="popup-total" id="popup-total"></div>
            <button id="confirm-order" style="background-color: #25D366; color: white; padding: 15px; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; width: 100%;">
                üì± Conferma e Invia su WhatsApp
            </button>
        </div>
    </div>

    <!-- NOTIFICA CONFERMA -->
    <div class="notification" id="notification">
        ‚úÖ Ordine inviato con successo!
    </div>

    <script src="script-enhanced.js"></script>
</body>
</html>